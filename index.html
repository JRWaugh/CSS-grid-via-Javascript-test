<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Grid</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Legally Distinct Etchin' and Sketchin' Web App</h1>
    <div class="buttons">
        <button type="button" id="box-resize">Resize Grid</button>
        <button type="button" id="box-reset">Reset</button>
    </div>
    
    <div class="container">
        <!-- Square container is filled with Javascript, with side length equal to user input -->
    </div>
    <script>
        const container = document.querySelector('.container')
        container.style.display = "grid"
        let colorMode = false

        buildGrid(16)
        document.getElementById('box-resize').addEventListener('click', boxResize)    
        document.getElementById('box-reset').addEventListener('click', boxReset) 
    
        function buildGrid(sideSize){
            gridSize = sideSize * sideSize
            container.style.gridTemplateColumns = "repeat(" + sideSize + ", minmax(1px, 1fr))"
            container.style.gridTemplateRows = "repeat(" + sideSize + ", minmax(1px, 1fr))"

            for(i = 0; i < gridSize; i++){
                let box = document.createElement('div')
                box.className = "box"
                box.addEventListener('mouseover', () => box.style.backgroundColor = "black")
                container.appendChild(box)           
            }
        }

        function boxResize() {
            document.querySelectorAll('.box').forEach(box => box.remove())
            sideSize = prompt("Enter desired length of grid size. Default is 16 (256 squares total)");
            buildGrid(sideSize)
        }

        function boxReset() {
            document.querySelectorAll('.box').forEach(box => box.style.backgroundColor = "white")
        }
    </script>
</body>

</html>